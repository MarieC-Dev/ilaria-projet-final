<form
    class="createRecipeForm"
    [formGroup]="recipeForm.formGroup"
    (ngSubmit)="onSubmit()">
    <!-- Title -->
    <div class="formInputDiv" id="createRecipeTitleDiv">
        <label for="createRecipeImg">
            Titre de la recette : <span style="color: #EB4137">*</span>
        </label>

        <input type="text"
            id="createRecipeTitle"
            name="createRecipeTitle"
            placeholder="Titre de la recette"
            formControlName="name"
        />
    </div>

    <!-- Description -->
    <div class="formInputDiv" id="createRecipeDescriptionDiv">
        <label for="createRecipeImg">
            Description :
        </label>

        <textarea
            id="createRecipeDescription"
            name="createRecipeDescription"
            placeholder="Description"
            [rows]="10"
            maxlength="250"
            style="resize: none;"
            formControlName="description">
        </textarea>
    </div>

    <!-- Ajouter une image -->
    <div class="formInputDiv" id="createRecipeImgDiv">
        <label for="createRecipeImg">
            Ajouter une image : <span style="color: #EB4137">*</span>
        </label>

        <input type="file"
            id="createRecipeImg"
            name="createRecipeImg"
            placeholder="Ajouter une image"
            formControlName="imageName" />
    </div>

    <!-- Types de cuisine -->
    <app-multiple-inputs
        labelTitle="Type de cuisine :"
        inputId="cuisineTypeInputs"
        [required]="true">
        <select
            id="selectCuisineType"
            formControlName="cuisineType">
            <option value="">---</option>
            @for (ct of cuisineTypeList(); track ct.id) {
              <option [value]="ct.value">{{ ct.title }}</option>
            }
        </select>
    </app-multiple-inputs>

    <!-- Types de cuisson -->
    <app-cooking-type controlName="cookingType" />

    <!-- Nombre de portions -->
    <app-multiple-inputs
        labelTitle="Nombre de portions :"
        inputId="servingNumberInputs"
        [required]="true">
        <ul formGroupName="servingNumber">
            <li>
                <label for="servingNumber">
                    <input type="number"
                        id="servingNumber"
                        name="servingNumber"
                        placeholder="Ex. : 4"
                        formControlName="number" />
                </label>
            </li>
            <li>
                <label for="servingName">
                    <select name="servingName" id="servingName" formControlName="type">
                        <option value="">Type de portion</option>
                        <option value="person">Personne(s)</option>
                        <option value="piece">Parts(s)</option>
                        <option value="liter">Litre(s)</option>
                        <option value="cylinders">Vérine(s)</option>
                    </select>
                </label>
            </li>
        </ul>
    </app-multiple-inputs>

    <!-- Difficulté -->
    <app-difficulty controlName="difficulty" />

    <hr class="createRecipeLine">

    <!-- Temps de préparation, cuisson, pause -->
    <div class="inputsTimesDiv" formGroupName="recipeTime">
        <app-multiple-inputs
            labelTitle="Temps de préparation :"
            inputId="makingTimeInput"
            [required]="true"
            formGroupName="making">
            <ul class="inputsTime">
                <li>
                    <label for="makingTimeHours">
                        <input type="number"
                               id="makingTimeHours"
                               name="makingTimeHours"
                               placeholder="Heures"
                               formControlName="hours"
                               [required]="true" />
                        <!--[(ngModel)]="hoursValues()[time.id]"-->
                        heure(s)
                    </label>
                </li>
                <li>
                    <label for="makingTimeMinutes">
                        <input type="number"
                               id="makingTimeMinutes"
                               name="makingTimeMinutes"
                               placeholder="Minutes"
                               formControlName="minutes"
                               [required]="true" />
                        <!--[(ngModel)]="hoursValues()[time.id]"-->
                        minutes
                    </label>
                </li>
            </ul>
        </app-multiple-inputs>

        <app-multiple-inputs
            labelTitle="Temps de cuisson :"
            inputId="cookingTimeInput"
            [required]="false">

            <button class="btn-bg-darkGrey" type="button" (click)="isCooking = !isCooking">
                {{ isCooking ? 'Supprimer' : 'Ajouter' }}
            </button>

            <ul *ngIf="isCooking" class="inputsTime" formGroupName="cooking">
                <li>
                    <label for="cookingTimeHours">
                        <input type="number"
                               id="cookingTimeHours"
                               name="cookingTimeHours"
                               placeholder="Heures"
                               formControlName="hours"
                               [required]="true" />
                        heure(s)
                    </label>
                </li>
                <li>
                    <label for="cookingTimeMinutes">
                        <input type="number"
                               id="cookingTimeMinutes"
                               name="cookingTimeMinutes"
                               placeholder="Minutes"
                               formControlName="minutes"
                               [required]="true" />
                        minutes
                    </label>
                </li>
            </ul>
        </app-multiple-inputs>

        <app-multiple-inputs
            labelTitle="Temps de pause :"
            inputId="pauseTimeInput"
            [required]="true">

            <button class="btn-bg-darkGrey" type="button" (click)="isPause = !isPause">
                {{ isPause ? 'Supprimer' : 'Ajouter' }}
            </button>

            <ul *ngIf="isPause" class="inputsTime" formGroupName="pause">
                <li>
                    <label for="pauseTimeHours">
                        <input type="number"
                               id="pauseTimeHours"
                               name="pauseTimeHours"
                               placeholder="Heures"
                               formControlName="hours"
                               [required]="false" />
                        heure(s)
                    </label>
                </li>
                <li>
                    <label for="pauseTimeMinutes">
                        <input type="number"
                               id="pauseTimeMinutes"
                               name="pauseTimeMinutes"
                               placeholder="Minutes"
                               formControlName="minutes"
                               [required]="true" />
                        minutes
                    </label>
                </li>
            </ul>
        </app-multiple-inputs>
    </div>

    <hr class="createRecipeLine">

    <!-- Étapes et ingrédients -->
    <app-steps-ingredients-inputs />

    <hr class="createRecipeLine">

    <!--TODO change date now (created)-->

    <button class="btn-bg-red" type="submit">Soumettre</button>
</form>

